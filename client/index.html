<html>
    <head>
        <meta charset="utf-8">
        <title>File Structure and Simple Server</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js'></script>


       <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
       <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-route.min.js"></script>
       <script>

       var app = angular.module('app', ['ngRoute']);
       app.config(function($routeProvider){
           $routeProvider
           .when('/', {
               templateURL: 'index.html',
           })
           .when('/partials', {
               templateURL: 'partials/dashboard.html',
               controller: 'dashboardController'
           })

       })

// FActory

    app.factory('userFactory')

// controllers
    app.controller('dashboardController', ['$scope', 'userFactory', function($scope, userFactory){
        userFactory.get(function(user){
            if(!user){
                var user = prompt('username');
                if (user){
                    userFactory.set(user);
                }
                }
            })
            console.log('dashboardController started')
        }
])
    //
       </script>
        <style>
        button {
            width: 100%;
        }
        </style>
    </head>
    <body ng-app = "app">
        <div>
            Welcome, {{user.name}}
        </div>

        <div ng-view ="">

        </div>


    </body>
</html>
